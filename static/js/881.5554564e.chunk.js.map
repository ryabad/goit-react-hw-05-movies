{"version":3,"file":"static/js/881.5554564e.chunk.js","mappings":"oRAEMA,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAIC,SAASC,IACd,OAAOC,EAAAA,EAAAA,GACL,+DACAN,EAEJ,CAEO,SAASO,EAAYC,GAC1B,IACMC,EAAS,IAAIC,gBAAgB,CACjCF,MAAAA,IAEF,OAAOF,EAAAA,EAAAA,GAAM,GAADK,OAJA,4CAIO,KAAAA,OAAIF,GAAUT,EACnC,CAEO,SAASY,EAAgBC,GAC9B,OAAOP,EAAAA,EAAAA,GAAM,sCAADK,OAAuCE,GAAMb,EAC3D,CAEO,SAASc,EAAgBD,GAC9B,OAAOP,EAAAA,EAAAA,GAAM,sCAADK,OAAuCE,EAAE,YAAYb,EACnE,CAEO,SAASe,EAAgBF,GAC9B,OAAOP,EAAAA,EAAAA,GAAM,sCAADK,OAAuCE,EAAE,YAAYb,EACnE,C,mHCnCA,EAA4B,0B,SC0D5B,EAtDe,WACb,IAAAgB,GAAoCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA3CI,EAAUF,EAAA,GAAEG,EAAaH,EAAA,GAChCI,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GACpCG,GAAkCV,EAAAA,EAAAA,WAAS,GAAMW,GAAAT,EAAAA,EAAAA,GAAAQ,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GACxBpB,EAAQiB,EAAaM,IAAI,UAEzBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACH1B,IACLsB,GAAa,IACbvB,EAAAA,EAAAA,IAAYC,GACT2B,MAAK,SAAAC,GACJf,EAAce,EAASC,KAAKC,QAC9B,IACCC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAI,QAASF,EAAMG,QAAQ,IAClDC,SAAQ,kBAAMd,GAAa,EAAM,IACtC,GAAG,CAACtB,IAQJ,OACEqC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAAA,QAAMG,SARW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAcF,EAAEG,cAAcC,SAASC,OAAOC,MAAMC,OAC1D9B,EAAgB,CAAE4B,OAAQH,GAC5B,EAIkCM,UAAWC,EAAcX,SAAA,EACrDY,EAAAA,EAAAA,KAAA,SACEC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,KAAK,YAEPL,EAAAA,EAAAA,KAAA,UAAQC,KAAK,SAAQb,SAAC,eAExBF,EAAAA,EAAAA,MAAA,OAAKY,UAAWC,EAAcX,SAAA,CAC3BlB,IAAa8B,EAAAA,EAAAA,KAAA,KAAAZ,SAAG,gBACjBY,EAAAA,EAAAA,KAAA,MAAAZ,SACG3B,GACCA,EAAW6C,KAAI,SAAAC,GAAA,IAAGrD,EAAEqD,EAAFrD,GAAIsD,EAAKD,EAALC,MAAK,OACzBR,EAAAA,EAAAA,KAAA,MAAAZ,UACEY,EAAAA,EAAAA,KAACS,EAAAA,GAAI,CAACC,GAAE,GAAA1D,OAAKE,GAAMyD,MAAOtC,EAASe,SAChCoB,KAFItD,EAIJ,WAMnB,C","sources":["common/themoviedbService.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNzQzZDVmYzIwZjYyMDMyMTA5NmYxYzNiMTI4ZjNkZSIsInN1YiI6IjY1NjlkMjZiYjdkMzUyMDEwYjU0MjVkZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.kixlzSjShWL6h0MUp1Hlkm4hdcegl7qebxp6vm49PGI',\n  },\n};\n\nexport function getTrending() {\n  return axios(\n    'https://api.themoviedb.org/3/trending/all/day?language=en-US',\n    options\n  );\n}\n\nexport function getBySearch(query) {\n  const URL = 'https://api.themoviedb.org/3/search/movie';\n  const params = new URLSearchParams({\n    query,\n  });\n  return axios(`${URL}?${params}`, options);\n}\n\nexport function getMovieDetails(id) {\n  return axios(`https://api.themoviedb.org/3/movie/${id}`, options);\n}\n\nexport function getMovieCredits(id) {\n  return axios(`https://api.themoviedb.org/3/movie/${id}/credits`, options);\n}\n\nexport function getMovieReviews(id) {\n  return axios(`https://api.themoviedb.org/3/movie/${id}/reviews`, options);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__+-Cnt\"};","import { getBySearch } from 'common/themoviedbService';\nimport { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [moviesList, setMoviesList] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [isLoading, setIsLoading] = useState(false);\n  const query = searchParams.get('search');\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!query) return;\n    setIsLoading(true);\n    getBySearch(query)\n      .then(response => {\n        setMoviesList(response.data.results);\n      })\n      .catch(error => console.log('error', error.message))\n      .finally(() => setIsLoading(false));\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const searchValue = e.currentTarget.elements.search.value.trim();\n    setSearchParams({ search: searchValue });\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={css.container}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          name=\"search\"\n        />\n        <button type=\"submit\">Submit</button>\n      </form>\n      <div className={css.container}>\n        {isLoading && <p>Loading...</p>}\n        <ul>\n          {moviesList &&\n            moviesList.map(({ id, title }) => (\n              <li key={id}>\n                <Link to={`${id}`} state={location}>\n                  {title}\n                </Link>\n              </li>\n            ))}\n        </ul>\n      </div>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["options","method","headers","accept","Authorization","getTrending","axios","getBySearch","query","params","URLSearchParams","concat","getMovieDetails","id","getMovieCredits","getMovieReviews","_useState","useState","_useState2","_slicedToArray","moviesList","setMoviesList","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","_useState3","_useState4","isLoading","setIsLoading","get","location","useLocation","useEffect","then","response","data","results","catch","error","console","log","message","finally","_jsxs","_Fragment","children","onSubmit","e","preventDefault","searchValue","currentTarget","elements","search","value","trim","className","css","_jsx","type","autoComplete","autoFocus","placeholder","name","map","_ref","title","Link","to","state"],"sourceRoot":""}