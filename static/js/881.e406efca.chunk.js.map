{"version":3,"file":"static/js/881.e406efca.chunk.js","mappings":"oRAEMA,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAIC,SAASC,EAAYC,GAC1B,OAAOC,EAAAA,EAAAA,GAAM,6CAADC,OACmCF,EAAI,mBACjDN,EAEJ,CAEO,SAASS,EAAYC,GAC1B,IACMC,EAAS,IAAIC,gBAAgB,CACjCF,MAAAA,IAEF,OAAOH,EAAAA,EAAAA,GAAM,GAADC,OAJA,4CAIO,KAAAA,OAAIG,GAAUX,EACnC,CAEO,SAASa,EAAgBC,GAC9B,OAAOP,EAAAA,EAAAA,GAAM,sCAADC,OAAuCM,GAAMd,EAC3D,CAEO,SAASe,EAAgBD,GAC9B,OAAOP,EAAAA,EAAAA,GAAM,sCAADC,OAAuCM,EAAE,YAAYd,EACnE,CAEO,SAASgB,EAAgBF,GAC9B,OAAOP,EAAAA,EAAAA,GAAM,sCAADC,OAAuCM,EAAE,YAAYd,EACnE,C,mHCnCA,EAA4B,0B,SC0D5B,EAtDe,WACb,IAAAiB,GAAoCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA3CI,EAAUF,EAAA,GAAEG,EAAaH,EAAA,GAChCI,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GACpCG,GAAkCV,EAAAA,EAAAA,WAAS,GAAMW,GAAAT,EAAAA,EAAAA,GAAAQ,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GACxBnB,EAAQgB,EAAaM,IAAI,UAEzBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACHzB,IACLqB,GAAa,IACbtB,EAAAA,EAAAA,IAAYC,GACT0B,MAAK,SAAAC,GACJf,EAAce,EAASC,KAAKC,QAC9B,IACCC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAI,QAASF,EAAMG,QAAQ,IAClDC,SAAQ,kBAAMd,GAAa,EAAM,IACtC,GAAG,CAACrB,IAQJ,OACEoC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAAA,QAAMG,SARW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAcF,EAAEG,cAAcC,SAASC,OAAOC,MAAMC,OAC1D9B,EAAgB,CAAE4B,OAAQH,GAC5B,EAIkCM,UAAWC,EAAcX,SAAA,EACrDY,EAAAA,EAAAA,KAAA,SACEtD,KAAK,OACLuD,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,KAAK,YAEPJ,EAAAA,EAAAA,KAAA,UAAQtD,KAAK,SAAQ0C,SAAC,eAExBF,EAAAA,EAAAA,MAAA,OAAKY,UAAWC,EAAcX,SAAA,CAC3BlB,IAAa8B,EAAAA,EAAAA,KAAA,KAAAZ,SAAG,gBACjBY,EAAAA,EAAAA,KAAA,MAAAZ,SACG3B,GACCA,EAAW4C,KAAI,SAAAC,GAAA,IAAGpD,EAAEoD,EAAFpD,GAAIqD,EAAKD,EAALC,MAAK,OACzBP,EAAAA,EAAAA,KAAA,MAAAZ,UACEY,EAAAA,EAAAA,KAACQ,EAAAA,GAAI,CAACC,GAAE,GAAA7D,OAAKM,GAAMwD,MAAOrC,EAASe,SAChCmB,KAFIrD,EAIJ,WAMnB,C","sources":["common/themoviedbService.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNzQzZDVmYzIwZjYyMDMyMTA5NmYxYzNiMTI4ZjNkZSIsInN1YiI6IjY1NjlkMjZiYjdkMzUyMDEwYjU0MjVkZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.kixlzSjShWL6h0MUp1Hlkm4hdcegl7qebxp6vm49PGI',\n  },\n};\n\nexport function getTrending(type) {\n  return axios(\n    `https://api.themoviedb.org/3/trending/all/${type}?language=en-US`,\n    options\n  );\n}\n\nexport function getBySearch(query) {\n  const URL = 'https://api.themoviedb.org/3/search/movie';\n  const params = new URLSearchParams({\n    query,\n  });\n  return axios(`${URL}?${params}`, options);\n}\n\nexport function getMovieDetails(id) {\n  return axios(`https://api.themoviedb.org/3/movie/${id}`, options);\n}\n\nexport function getMovieCredits(id) {\n  return axios(`https://api.themoviedb.org/3/movie/${id}/credits`, options);\n}\n\nexport function getMovieReviews(id) {\n  return axios(`https://api.themoviedb.org/3/movie/${id}/reviews`, options);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__+-Cnt\"};","import { getBySearch } from 'common/themoviedbService';\nimport { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [moviesList, setMoviesList] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [isLoading, setIsLoading] = useState(false);\n  const query = searchParams.get('search');\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!query) return;\n    setIsLoading(true);\n    getBySearch(query)\n      .then(response => {\n        setMoviesList(response.data.results);\n      })\n      .catch(error => console.log('error', error.message))\n      .finally(() => setIsLoading(false));\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const searchValue = e.currentTarget.elements.search.value.trim();\n    setSearchParams({ search: searchValue });\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={css.container}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          name=\"search\"\n        />\n        <button type=\"submit\">Submit</button>\n      </form>\n      <div className={css.container}>\n        {isLoading && <p>Loading...</p>}\n        <ul>\n          {moviesList &&\n            moviesList.map(({ id, title }) => (\n              <li key={id}>\n                <Link to={`${id}`} state={location}>\n                  {title}\n                </Link>\n              </li>\n            ))}\n        </ul>\n      </div>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["options","method","headers","accept","Authorization","getTrending","type","axios","concat","getBySearch","query","params","URLSearchParams","getMovieDetails","id","getMovieCredits","getMovieReviews","_useState","useState","_useState2","_slicedToArray","moviesList","setMoviesList","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","_useState3","_useState4","isLoading","setIsLoading","get","location","useLocation","useEffect","then","response","data","results","catch","error","console","log","message","finally","_jsxs","_Fragment","children","onSubmit","e","preventDefault","searchValue","currentTarget","elements","search","value","trim","className","css","_jsx","autoComplete","autoFocus","placeholder","name","map","_ref","title","Link","to","state"],"sourceRoot":""}